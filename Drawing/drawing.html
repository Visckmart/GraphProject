<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="./tool_tray.css">
    <link rel="stylesheet" href="AlgorithmControls/algorithm_controls.css">
    <script type="module" src="General.js" crossorigin="anonymous"></script>
    <script type="module" src="Interaction.js" crossorigin="anonymous"></script>
    <script type="module" src="InteractionShare.js" crossorigin="anonymous"></script>
    <script type="module" src="GraphView.js" crossorigin="anonymous"></script>
</head>
<body>
    <div class="canvasArea">
        <div class="canvasContainer" style="position: relative">
            <canvas></canvas>
            <!--    Ferramentas    -->
            <div id="tray" class="toolTray">
                <div class="toolTrayTab">
                    <a class="toolTrayCaretUp" href="#">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-up-fill" viewBox="0 0 16 16">
                            <path d="M7.247 4.86l-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z"/>
                        </svg>
                    </a>
                    <a class="toolTrayCaretDown" href="#tray">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-down-fill" viewBox="0 0 16 16">
                            <path d="M7.247 11.14L2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"/>
                        </svg>
                    </a>
                </div>
                <div class="toolTrayBody" id="tool_tray">
                    <div id="leftItems">
                        <input type="radio" name="tool" value="move" id="move_input" checked/>
                        <label for="move_input">
                            <div class="tool-icon icon">
                                <span style="font-size: 25pt">•</span>
                            </div>
                           <p class="name">Nós</p>
                        </label>
                        <input type="radio" name="tool" value="connect" id="connect_input"/>
                        <label for="connect_input">
                            <div class="tool-icon icon">
                                <span style="font-size: 25pt; margin-top: -1pt;">⧟</span>
                            </div>
                            <p class="name">Arestas</p>
                        </label>
                    </div>
                    <div id="rightItems">
                        <input type="radio" name="feature" value="connect_all" id="connect_all_input"/>
                        <label for="connect_all_input">
                            <div class="feature-icon icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-arrows-angle-contract" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M.172 15.828a.5.5 0 0 0 .707 0l4.096-4.096V14.5a.5.5 0 1 0 1 0v-3.975a.5.5 0 0 0-.5-.5H1.5a.5.5 0 0 0 0 1h2.768L.172 15.121a.5.5 0 0 0 0 .707zM15.828.172a.5.5 0 0 0-.707 0l-4.096 4.096V1.5a.5.5 0 1 0-1 0v3.975a.5.5 0 0 0 .5.5H14.5a.5.5 0 0 0 0-1h-2.768L15.828.879a.5.5 0 0 0 0-.707z"/>
                                </svg>
                            </div>
                            <p class="name">Conectar</p>
                        </label>
                        <input type="radio" name="feature" value="disconnect_all" id="disconnect_all_input"/>
                        <label for="disconnect_all_input">
                            <div class="feature-icon icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-scissors" viewBox="0 0 16 16">
                                  <path d="M3.5 3.5c-.614-.884-.074-1.962.858-2.5L8 7.226 11.642 1c.932.538 1.472 1.616.858 2.5L8.81 8.61l1.556 2.661a2.5 2.5 0 1 1-.794.637L8 9.73l-1.572 2.177a2.5 2.5 0 1 1-.794-.637L7.19 8.61 3.5 3.5zm2.5 10a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0zm7 0a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0z"/>
                                </svg>
                            </div>
                            <p class="name">Desconectar</p>
                        </label>
                        <input type="radio" name="feature" value="delete_all" id="delete_all_input"/>
                        <label for="delete_all_input">
                            <div class="feature-icon icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-eraser-fill" viewBox="0 0 16 16">
                                    <path d="M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm.66 11.34L3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z"/>
                                </svg>
                            </div>
                            <p class="name">Remover</p>
                        </label>
                    </div>
                </div>
            </div>

            <!--    Controle de Algoritmos    -->
            <div id="algorithmController" style="display: none">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="white" class="bi bi-x-circle" viewBox="0 0 16 16" id="exit_button">
                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                    <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                </svg>
                <div id="tutorialContainer">
                    <label><span>Selecione o nó inicial.</span></label>
                </div>
                <hr class="separator"/>

                <div id="executionContainer">
                    <div id="speedContainer">
                        <label id="speedGauge"></label>
                        <input type="range" id="speedInput" min="0" max="8" step="1" value="4">
                    </div>

                    <div id="timelineContainer">
                        <a class="timelineButton" id="back_button">
                            <svg xmlns="http://www.w3.org/2000/svg" class="bi bi-skip-start" viewBox="0 0 16 16">
                                <path d="M4 4a.5.5 0 0 1 1 0v3.248l6.267-3.636c.52-.302 1.233.043 1.233.696v7.384c0 .653-.713.998-1.233.696L5 8.752V12a.5.5 0 0 1-1 0V4zm7.5.633L5.696 8l5.804 3.367V4.633z"/>
                            </svg>
                        </a>
                        <a class="timelineButton" id="play_button">
                            <svg xmlns="http://www.w3.org/2000/svg" class="bi bi-play" viewBox="0 0 16 16">
                                <path d="M10.804 8L5 4.633v6.734L10.804 8zm.792-.696a.802.802 0 0 1 0 1.392l-6.363 3.692C4.713 12.69 4 12.345 4 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692z"/>
                            </svg>
                        </a>
                        <a class="timelineButton" style="display: none;" id="stop_button">
                            <svg xmlns="http://www.w3.org/2000/svg" class="bi bi-pause" viewBox="0 0 16 16">
                                <path d="M6 3.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5zm4 0a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5z"/>
                            </svg>
                        </a>
                        <a class="timelineButton" id="forward_button">
                            <svg xmlns="http://www.w3.org/2000/svg" class="bi bi-skip-end" viewBox="0 0 16 16">
                                <path d="M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.713 3.31 4 3.655 4 4.308v7.384c0 .653.713.998 1.233.696L11.5 8.752V12a.5.5 0 0 0 1 0V4zM5 4.633L10.804 8 5 11.367V4.633z"/>
                            </svg>
                        </a>
                        <input type="range" id="timelineInput">
                    </div>
                </div>
            </div>
        </div>
        <div id="blur"></div>
        <div class="menuArea">
            <div id="GraphSettings">
                <h2>Grafo</h2>
                <p>Nomenclatura dos nós
                    <select id="nodeLabeling">
                        <option value="numbers">Números (Em Ordem Crescente)</option>
                        <option value="letters_ordered">Letras (Em Ordem Alfabética)</option>
                        <option value="letters_randomized" selected>Letras (Aleatórias)</option>
                    </select>
                </p>
                <p>Algoritmo<br>
                    <select id="algorithm" disabled>
                        <option value="Dijkstra" selected>Shortest path Dijkstra</option>
                        <option value="BFS">Breadth-First Search</option>
                    </select>
                    <button id="run_algorithm">Run</button>
                </p>
                <p>Exportar como...<br>
                        <button style="margin-left: 0pt; margin-right: 2pt;" id="exportFile">Arquivo</button>
                        <button style="margin-right: 2pt;" id="exportText">Texto</button>
                        <button style="margin-right: 2pt;" id="exportLink">Link</button>
                    <!-- </span> -->
                </p>
                <p>Importar como...<br>
                    <input type="file" id="inputFile" accept=".gp, .txt" style="display: none;">
                    <button style="margin-left: 0pt; margin-right: 2pt;" id="importFile">Arquivo</button>
                    <button style="margin-right: 2pt;" id="importText">Texto</button>
                </p>
            </div>
            <div id="NodeSettings" style="display: none;">
                <h2>Nó</h2>
                <p>Label<input type="text" id="label" maxlength = 2 style="width: 50pt"/></p>
                <p>Cor<input type="color" id="color" style="width: 50pt; height: 20pt"/></p>
            </div>
            <div id="EdgeSettings" style="display: none;">
                <h2>Aresta</h2>
                <p>Label<input type="text" class="label" maxlength = 10 style="width: 50pt"/></p>
            </div>

            <p><span id="dynamic"></span></p>
            <button id="share" style="display: none;">Compartilhar</button>
        </div>
    </div>
    <script>
        debugMode = true;
        if (debugMode == true) {
            var debugPrint = console.info.bind(window.console)
        } else {
            var debugPrint = function() { }
        }
    </script>
</body>
</html>